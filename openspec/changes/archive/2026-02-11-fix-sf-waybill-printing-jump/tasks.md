## 1. 参数模型与配置接入

- [x] 1.1 在单配置模型中新增全局 `tspl` 参数结构（gap_mm、gap_offset_mm、direction）及默认值
- [x] 1.2 在打印机配置页面新增 GAP 与 DIRECTION 配置项并支持自动保存
- [x] 1.3 补充参数序列化/反序列化与兼容性处理（旧 `printer.toml` 无 `tspl` 字段时可正常运行）

## 2. 打印链路改造

- [x] 2.1 改造 `sf_print_waybill` 打印流程，使用全局 TSPL 参数替代模块内硬编码
- [x] 2.2 调整 `TSPLGenerator`（及调用点）支持可配置 GAP/DIRECTION（默认 `2,0` 与 `1,0`）
- [x] 2.3 接入 QSL 与地址打印链路，确保三条路径统一使用全局 TSPL 参数

## 3. 可观测性与错误处理

- [x] 3.1 增加三条打印链路关键日志（生效 GAP、DIRECTION、作业信息）
- [x] 3.2 增加参数错误与回退日志，输出可读诊断信息

## 4. 测试与验证

- [x] 4.1 补充单元测试：参数校验、默认值回退、TSPL 头参数生成
- [x] 4.2 补充集成测试：顺丰两步打印流程在全局 TSPL 参数下可成功执行
- [ ] 4.3 回归验证：普通标签、地址标签、顺丰面单三条路径均通过
