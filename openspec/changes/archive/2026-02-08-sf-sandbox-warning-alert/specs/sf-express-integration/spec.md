## MODIFIED Requirements

### 需求：下单前配置检查

系统**必须**在打开下单界面时检查 API 配置状态和寄件人配置状态。

#### 场景：API 未配置时打开下单界面

**前提条件：**
- 用户未配置顺丰 API 凭据

**操作步骤：**
1. 用户从分发界面点击「顺丰速运下单」按钮
2. 系统打开下单对话框

**预期结果：**
- 在寄件人信息区域上方显示警告提示「请先配置顺丰速运 API」
- 提供「去配置」按钮，点击后跳转到顺丰速运配置页面
- 「提交订单」按钮处于禁用状态

#### 场景：沙箱环境时打开下单界面

- **当** 用户已配置顺丰 API 凭据且当前环境为沙箱环境（environment 为 "sandbox"）时打开下单对话框
- **那么** 系统**必须**在对话框内、寄件人信息区域上方显示一个 `warning` 类型的 `el-alert` 组件
- **并且** alert 标题**必须**为「当前为沙箱环境」
- **并且** alert 内容**必须**说明「订单将不会被真实派发」
- **并且** alert 内容**必须**包含一个可点击的链接文字「请点击此处切换至生产环境」，点击后关闭下单对话框并导航到顺丰速运配置页面
- **并且** alert **必须**不可关闭（closable 为 false）
- **并且** alert **必须**显示图标（show-icon 为 true）
- **并且** 「提交订单」按钮**必须**保持可用状态（不因沙箱环境而禁用）

#### 场景：生产环境时打开下单界面

- **当** 用户已配置顺丰 API 凭据且当前环境为生产环境（environment 为 "production"）时打开下单对话框
- **那么** 系统**禁止**显示沙箱环境警告提示

### 需求：下单配置跳转

系统**必须**支持从下单界面跳转到配置界面，并根据跳转来源精确定位到对应的配置 Tab。

#### 场景：从沙箱环境警告跳转到配置

- **当** 用户在沙箱环境警告中点击「请点击此处」链接
- **那么** 系统**必须**关闭下单对话框和分发对话框
- **并且** 导航到「数据配置 > 顺丰速运」页面
- **并且** 配置页面**必须**直接展示「API 凭据配置」Tab

#### 场景：从寄件人未配置状态跳转到配置

- **当** 用户在寄件人未配置的空状态中点击「去配置」按钮
- **那么** 系统**必须**关闭下单对话框和分发对话框
- **并且** 导航到「数据配置 > 顺丰速运」页面
- **并且** 配置页面**必须**直接展示「寄件人信息」Tab

#### 场景：从 API 未配置警告跳转到配置

- **当** 用户在 API 未配置警告中点击「去配置」按钮
- **那么** 系统**必须**关闭下单对话框和分发对话框
- **并且** 导航到「数据配置 > 顺丰速运」页面
- **并且** 配置页面**必须**按照默认逻辑展示对应 Tab（未配置时展示 API Tab）

#### 场景：直接从菜单进入配置页面

- **当** 用户从侧边栏菜单点击「顺丰速运」进入配置页面（不携带导航参数）
- **那么** 配置页面**必须**按照默认逻辑展示对应 Tab（已配置 API 时展示寄件人 Tab，未配置时展示 API Tab）
