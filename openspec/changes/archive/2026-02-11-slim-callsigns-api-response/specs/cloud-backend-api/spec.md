## 修改需求

### 需求：按呼号查询收卡信息接口

系统**必须**提供基于呼号查询收卡信息的接口，供「根据呼号查询收卡信息的单独页面」及外部调用使用；该单独页面在展示查询结果时提供「订阅收卡」按钮，用于微信绑定（见 wechat-push 规范）。

#### 场景：按呼号查询成功

- **当** 调用方发送 GET 请求到按呼号查询接口（如 `GET /api/callsigns/:callsign` 或 `GET /api/query?callsign=BG7XYZ`），且通过认证（若接口要求）
- **那么** 服务端必须从 D1 中查询该呼号对应的卡片数据（基于同步得到的 cards 及关联的 projects）
- **并且** 响应体必须只包含前端展示所需的最小字段集，每个卡片项目必须包含且仅包含：
  - `id`: 卡片唯一标识
  - `project_name`: 项目名称
  - `status`: 卡片状态（pending / distributed / returned）
  - `distribution`: 分发信息对象（仅当已分发时存在），包含：
    - `method`: 分发方式（如自取、代领、邮寄等）
    - `proxy_callsign`: 代领呼号（仅代领时存在）
    - `remarks`: 分发备注
- **并且** 禁止返回以下字段：`project_id`、`callsign`（冗余）、`qty`、`serial`、`created_at`、`updated_at`、`metadata`（完整对象）、分发地址、退卡信息
- **并且** 若无该呼号数据则返回空列表，不泄露其他呼号数据

#### 场景：呼号查询未授权

- **当** 按呼号查询接口要求认证且未提供有效 API Key 或 Token
- **那么** 服务端必须返回 401 或 403
- **并且** 不返回任何卡片数据

#### 场景：查询接口供查询页与订阅入口使用

- **当** 部署「根据呼号查询收卡信息的单独页面」时
- **那么** 该页面必须调用本按呼号查询接口展示该呼号下的收卡信息
- **并且** 在展示结果时提供「订阅收卡」按钮与提示（订阅后将收到该呼号的卡片分发/物流信息），点击后进入微信授权并完成呼号–openid 绑定（见 wechat-push 规范）
