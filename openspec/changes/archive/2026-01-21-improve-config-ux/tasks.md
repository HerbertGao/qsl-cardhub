# 任务列表：改进配置管理用户体验

## 任务状态说明
- `[ ]` 待开始
- `[→]` 进行中
- `[x]` 已完成
- `[!]` 已阻塞

---

## 阶段 1: 自动打开新建配置弹框

### 1.1 修改 ConfigView.vue 添加自动打开逻辑
- [x] 添加 `props` 定义，接收 `autoOpenNewDialog` 参数
- [x] 在 `onMounted` 钩子中检查该参数
- [x] 如果参数为 `true`，使用 `nextTick` 自动打开新建配置弹框
- [x] 确保只在首次加载时触发一次

**依赖**: 无
**验证**: 手动测试 + 控制台日志

### 1.2 修改 App.vue 传递自动打开参数
- [x] 添加响应式变量 `shouldAutoOpenNewConfig`
- [x] 在 `onMounted` 中检查配置为空时，设置该变量为 `true`
- [x] 将该变量作为 prop 传递给 `ConfigView` 组件
- [x] 确保参数只在必要时传递

**依赖**: 1.1
**验证**: 手动测试首次启动流程

---

## 阶段 2: 配置名称默认值

### 2.1 实现日期格式化函数
- [x] 在 ConfigView.vue 中添加 `getDefaultConfigName` 函数
- [x] 实现日期格式化逻辑（YYYYMMDD）
- [x] 返回 "配置" + 日期格式的字符串

**依赖**: 无
**验证**: 单元测试或控制台测试

### 2.2 修改 handleNewConfig 方法
- [x] 调用 `getDefaultConfigName()` 生成默认名称
- [x] 将生成的名称设置为 `newConfigForm.name` 的初始值
- [x] 确保用户仍可手动修改名称

**依赖**: 2.1
**验证**: 手动测试新建配置流程

---

## 阶段 3: 打印机名称 placeholder

### 3.1 为新建配置对话框添加 placeholder
- [x] 在 ConfigView.vue 第 166 行的 `el-select` 中添加 `placeholder` 属性
- [x] 设置 placeholder 文本为 "请选择打印机"
- [x] 确保样式不受影响

**依赖**: 无
**验证**: 手动检查对话框显示

### 3.2 为配置详情页添加 placeholder
- [x] 在 ConfigView.vue 第 103 行的 `el-select` 中添加 `placeholder` 属性
- [x] 设置 placeholder 文本为 "请选择打印机"
- [x] 确保响应式行为正常

**依赖**: 无
**验证**: 手动检查配置详情页显示

---

## 阶段 4: 集成测试

### 4.1 首次启动流程测试
- [x] 删除所有配置文件，模拟首次启动
- [x] 启动应用，验证自动跳转到配置管理页面
- [x] 验证新建配置弹框自动打开
- [x] 验证配置名称默认值正确显示
- [x] 验证打印机选择框显示 placeholder

**依赖**: 1.2, 2.2, 3.1
**验证**: 手动测试

### 4.2 正常使用流程测试
- [x] 创建一个配置，验证默认名称格式
- [x] 修改默认名称，验证可以正常保存
- [x] 退出应用重新打开，验证不会自动打开新建弹框（因为已有配置）
- [x] 编辑现有配置，验证打印机 placeholder 显示正常

**依赖**: 4.1
**验证**: 手动测试

### 4.3 边界情况测试
- [x] 测试打印机列表为空时的 placeholder 显示
- [x] 测试同一天创建多个配置的命名情况
- [x] 测试快速切换页面时不会重复触发自动打开

**依赖**: 4.2
**验证**: 手动测试

---

## 总计

- **总任务数**: 14
- **预计总时间**: 1.5 小时
- **并行可能**: 阶段 1、2、3 可并行开发，阶段 4 必须在前三个阶段完成后执行

---

## 验收检查清单

在合并前确认：
- [x] 所有任务标记为 `[x]`
- [x] 首次启动时自动打开新建配置弹框
- [x] 配置名称默认值为 "配置+年月日" 格式
- [x] 两个打印机选择框均显示 placeholder
- [x] 不影响现有功能（配置 CRUD、打印等）
- [x] 用户体验流程顺畅，无明显延迟或闪烁
