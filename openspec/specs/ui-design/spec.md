# ui-design Specification

## Purpose

本规范定义 qsl-cardhub 应用的用户界面设计要求，确保界面的视觉一致性、交互友好性和用户体验质量。

**核心关注点**：
- **菜单导航**：左侧功能菜单的布局、样式和交互行为
- **视觉反馈**：激活状态、悬停状态等用户交互的视觉提示
- **空间利用**：界面元素的间距、对齐和布局优化
- **跨平台一致性**：确保在 Windows、macOS、Linux 上显示一致

本规范适用于所有前端 UI 组件，包括但不限于菜单、按钮、表单、卡片等元素。
## 需求
### 需求：菜单项必须紧贴侧边栏边缘
左侧功能菜单的菜单项必须紧贴侧边栏的左右边缘，以提供更清晰的视觉层次和更大的交互区域。

#### 场景：查看功能菜单
- **当** 用户打开应用并查看左侧功能菜单
- **那么** 菜单项左边缘必须与侧边栏左边缘对齐（无间距）
- **并且** 菜单项右边缘必须与侧边栏右边缘对齐（或有圆角过渡）
- **并且** 菜单项之间保持垂直间距（4px）

---

### 需求：菜单项激活状态必须清晰可见
当前激活的菜单项必须有明显的视觉反馈，即使在紧贴边框的布局下也能清晰识别。

#### 场景：切换菜单项
- **当** 用户点击某个菜单项（打印、配置管理、模板设置等）
- **那么** 被点击的菜单项必须显示不同的背景色（#ecf5ff）
- **并且** 文字颜色必须变为蓝色（#409eff）
- **并且** 激活状态必须覆盖整个菜单项区域
- **并且** 激活状态在紧贴边框的布局下必须清晰可见

---

### 需求：菜单项悬停状态必须有视觉反馈
鼠标悬停在菜单项上时，必须显示明显的视觉反馈，提升交互体验。

#### 场景：鼠标悬停菜单项
- **当** 用户将鼠标移动到某个菜单项上（不点击）
- **那么** 该菜单项必须显示不同的背景色（#e6f7ff）
- **并且** 背景色变化必须平滑流畅
- **并且** 悬停效果必须覆盖整个菜单项区域
- **并且** 悬停效果在紧贴边框的布局下必须正常显示

---

### 需求：菜单项之间必须有适当的垂直间距
菜单项之间必须保持适当的垂直间距，避免视觉上过于拥挤。

#### 场景：查看多个菜单项
- **当** 用户查看左侧功能菜单的所有菜单项
- **那么** 相邻菜单项之间必须有 4px 的垂直间距
- **并且** 间距在所有菜单项之间必须保持一致
- **并且** 第一个菜单项与菜单顶部的间距必须正常
- **并且** 最后一个菜单项与菜单底部的间距必须正常

---

### 需求：日志界面DEBUG级别控制

系统**必须**支持用户控制是否显示DEBUG级别日志。

#### 场景：默认隐藏DEBUG日志

**前提条件：**
- 用户首次打开日志界面，或未开启DEBUG日志显示

**操作步骤：**
1. 用户打开「日志」页面

**预期结果：**
- 日志列表中不显示DEBUG级别的日志条目
- 日志级别过滤器中不显示「DEBUG」选项
- 显示「显示DEBUG日志」开关，默认为关闭状态

---

#### 场景：开启DEBUG日志显示

**前提条件：**
- 用户在日志界面

**操作步骤：**
1. 用户开启「显示DEBUG日志」开关

**预期结果：**
- 日志级别过滤器中出现「DEBUG」选项
- 选择「全部」时，日志列表中显示DEBUG级别的日志条目
- 开关状态被保存，下次打开日志界面时保持此设置

---

### 需求：日志列表高度自适应

系统**必须**使日志表格高度与窗口大小关联，避免出现双滚动条。

#### 场景：窗口大小变化时表格自适应

**前提条件：**
- 用户在日志界面

**操作步骤：**
1. 用户调整应用窗口大小

**预期结果：**
- 日志表格高度自动调整以填满可用空间
- 页面只有一个滚动条（表格内部的垂直滚动条）
- 不出现页面级别的滚动条
- 过滤选项区域和表格统计信息始终可见

---

#### 场景：不同窗口尺寸下的布局

**前提条件：**
- 用户在日志界面

**操作步骤：**
1. 用户将窗口调整为较小尺寸
2. 用户将窗口调整为较大尺寸

**预期结果：**
- 小窗口时：表格高度减小，但过滤选项和统计信息仍然可见
- 大窗口时：表格高度增大，充分利用可用空间
- 表格内容通过内部滚动条滚动

---

### 需求：TSPL指令调试日志

系统**必须**在DEBUG级别输出生成的TSPL打印指令，便于开发者调试打印问题。

#### 场景：打印标签时查看TSPL指令

**前提条件：**
- 用户已开启「显示DEBUG日志」
- 用户触发标签打印操作

**操作步骤：**
1. 用户在卡片管理界面打印标签
2. 用户打开日志界面查看DEBUG日志

**预期结果：**
- 日志中显示TSPL指令生成信息
- 显示TSPL指令的总字节数
- 显示TSPL指令的文本内容（SIZE、GAP、DIRECTION、CLS、BARCODE、BOX、PRINT等）
- BITMAP指令的二进制数据以摘要形式显示（如"<binary: 79040 bytes>"）

