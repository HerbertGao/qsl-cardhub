# global-settings-ui Specification

## Purpose
全局配置界面，在数据配置菜单提供集中管理 app_settings 的页面。

## 需求

### 需求：全局配置菜单入口

系统**必须**在「数据配置」子菜单中提供「全局配置」菜单项，作为 `app_settings` 配置的集中管理入口。

#### 场景：菜单位置

- **当** 用户展开「数据配置」子菜单
- **那么** 「全局配置」必须显示在子菜单的第一位（排在 QRZ.cn 之前）
- **并且** 点击后必须渲染 `GlobalSettingsView` 页面

### 需求：标题文本配置项

系统**必须**在全局配置页面提供标题文本（`label_title`）的编辑功能。

#### 场景：加载标题文本

- **当** 全局配置页面加载时
- **那么** 必须调用 `get_app_setting_cmd` 获取 `label_title` 的当前值
- **并且** 将值显示在文本输入框中
- **并且** 如果值不存在（返回 null），输入框必须显示为空

#### 场景：编辑标题文本自动保存

- **当** 用户在标题文本输入框中输入内容
- **那么** 必须在 500ms 防抖延迟后自动调用 `set_app_setting_cmd` 保存到数据库
- **并且** 禁止要求用户手动点击保存按钮

#### 场景：跳转到标签模板预览

- **当** 全局配置页面显示标题文本配置项时
- **那么** 必须在输入框旁提供跳转到标签模板配置页面的链接或按钮
- **并且** 点击后必须通过 `navigateTo('print-config-template')` 导航到标签模板配置页

### 需求：数量显示模式配置项

系统**必须**在全局配置页面提供数量显示模式（`qty_display_mode`）的切换功能。

#### 场景：加载数量显示模式

- **当** 全局配置页面加载时
- **那么** 必须从 `useQtyDisplayMode` composable 获取当前模式
- **并且** 开关状态必须反映当前模式（精确 = 关闭，大致 = 开启）

#### 场景：切换数量显示模式

- **当** 用户切换数量显示模式开关
- **那么** 必须使用与卡片录入对话框同款的 el-switch 组件（active-text="大致"，inactive-text="精确"）
- **并且** 切换后全局 `qtyDisplayMode` 状态必须即时更新
- **并且** 其他使用 `useQtyDisplayMode` 的页面必须同步反映新模式
